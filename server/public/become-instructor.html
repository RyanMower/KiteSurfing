<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="Ryan Mower" />
        <title>KiteSurfing - Become an Instructor</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- SimpleLightbox plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <!-- Dynamically Updates Navbar -->
        <script src="js/jquery.js"></script>
        <script src="js/navbar_scripts.js"></script>
        <script>
           function showFailure(reason){
             console.log("Inside showFailure");
             var alert_elm = document.getElementById("alert-element");
             alert_elm.classList.value = "alert alert-danger";
             alert_elm.innerHTML = reason;
           }

           $(document).ready(function () { 
             $('#become-instructor-form').submit(function (event) { 
             event.preventDefault(); 
             //collect the form data using Id Selector for whatever data you need 
             //to send to server 
             let pricing = $('#pricing').val(); 
             let location = $('#location').val(); 
             let contact_info = $('#contact-info').val(); 
             let post_data = {
                 "pricing": pricing,
                 "location"  : location,
                 "contact-info"   : contact_info
             }
             console.log("POSTING TO become an instructor");
             $.post('/becomeAnInstructor', 
               post_data, 
                 (data) => { 
                   if (data.status === 'success') { 
                     window.location.href = 'surfing-lessons'; 
                   }
                     else{
                         // SHOW FAILURE HERE
                         //showFailuer();
                         //TODO
                         return
                     }
                 }); 
             }); 
           });
        </script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="loginNav">
            <div class="container px-4 px-lg-5">
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav me-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                        <li class="nav-item active"><a class="nav-link" href="surfing-lessons">Surfing Lessons</a></li>
                        <li class="nav-item"><a class="nav-link" href="surfing-locations">Surfing Locations</a></li>
                    </ul>
                </div>
                <div id="navbarResponsive">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item"><a id="login-nav" class="nav-link" href="login">Login</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Create Account -->
        <section class="page-section" id="contact">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 col-xl-6 text-center">
                        <h2 class="mt-0">Become an Instructor Here!</h2>
                        <hr class="divider" />
                    </div>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center mb-5">
                    <div class="col-lg-6">
                        <div id="alert-element"></div>
                        <form id="become-instructor-form" >
                            <!-- Contact Information-->
                            <label for="contact-info"><b>Contact Information</b></label>
                            <textarea rows="4" cols="50" name="contact-info" class="form-control" id="contact-info" type="text" placeholder="Phone: 123-456-7890, email: janedoe@domain.com" required></textarea>
                            <br>
                            <!-- Location -->
                            <label for="location"><b>Location</b></label>
                            <input name="location" class="form-control" id="location" type="text" required>
                            <br>
                            <!-- Pricing -->
                            <label for="pricing"><b>Pricing</b></label>
                            <textarea rows="4" cols="50" name="pricing" class="form-control" id="pricing" type="text" placeholder="Description of pricing. Ex. $50/session, $45/hr, etc..." required></textarea>
                            <br>
                            <!-- Submit Button -->
                            <button class="btn btn-primary" type="submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SimpleLightbox plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
    </body>
</html>
