{"ast":null,"code":"var _jsxFileName = \"/home/ryanmower/Development/KiteSurfing/client/src/Components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Navigate } from 'react-router-dom';\nimport \"../../Assets/Styles/Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  // React States\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const errors = {\n    credentials: \"Invalid Credentials\"\n  };\n\n  const renderErrorMessage = type => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: errors[type]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleSubmit = event => {\n    //Prevent page reload\n    event.preventDefault();\n    var {\n      email,\n      password\n    } = document.forms[0];\n    let data = JSON.stringify({\n      email: email.value,\n      password: password.value\n    });\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: data\n    }).then(resp => resp.json()).then(data => {\n      if (data.status === \"success\") {\n        props.setIsLoggedIn(true);\n      } else {\n        setIsSubmitted(true);\n      }\n    }).catch(err => console.log(err));\n  }; // JSX code for login form\n\n\n  const renderForm = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isSubmitted && renderErrorMessage(\"credentials\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n\n  let display;\n\n  if (props.isLoggedIn) {\n    display = /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }, this);\n  } else {\n    display = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), renderForm]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n  return display;\n}\n\n_s(Login, \"y0UBtSRcKf2AGGJv1w8GuwACgkA=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Navigate","Login","props","isSubmitted","setIsSubmitted","errors","credentials","renderErrorMessage","type","handleSubmit","event","preventDefault","email","password","document","forms","data","JSON","stringify","value","fetch","method","headers","body","then","resp","json","status","setIsLoggedIn","catch","err","console","log","renderForm","display","isLoggedIn"],"sources":["/home/ryanmower/Development/KiteSurfing/client/src/Components/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Navigate } from 'react-router-dom';\nimport \"../../Assets/Styles/Login.css\";\n\nfunction Login(props) {\n\n  // React States\n  const [isSubmitted, setIsSubmitted] = useState(false);\n\n  const errors = {\n    credentials: \"Invalid Credentials\",\n  };\n\n  const renderErrorMessage = (type) => {\n    return (<div className=\"error\">{errors[type]}</div>);\n  }\n\n\n\n  const handleSubmit = (event) => {\n    //Prevent page reload\n    event.preventDefault();\n\n    var { email, password} = document.forms[0];\n\n    let data = JSON.stringify({email: email.value, password: password.value});\n\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {'Content-Type': 'application/json'},\n      body: data,\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        if(data.status === \"success\"){\n          props.setIsLoggedIn(true);\n        }else{\n          setIsSubmitted(true);\n        }})\n      .catch(err => console.log(err));\n  };\n\n  // JSX code for login form\n  const renderForm = (\n    <div className=\"form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-container\">\n          <label>Email</label>\n          <input type=\"text\" name=\"email\" required />\n        </div>\n        <div className=\"input-container\">\n          <label>Password </label>\n          <input type=\"password\" name=\"password\" required />\n        </div>\n        <div>{isSubmitted && renderErrorMessage(\"credentials\")}</div>\n        <div className=\"button-container\">\n          <input type=\"submit\" value=\"Submit\"/>\n        </div>\n      </form>\n    </div>\n  );\n  \n\n\n  let display;\n\n  if(props.isLoggedIn){\n    display = <Navigate to=\"/\" /> \n  }\n  else{\n    display = \n      <div className=\"Login\">\n        <div className=\"login-form\">\n          <div className=\"title\">Sign In</div>\n            {renderForm}\n        </div>\n      </div>\n  }\n\n  return (\n    display\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}